import{j as e,L as a,z as y,bN as A,dq as M,a as f,q as T,p as I,r as b,bH as O,dr as F,ds as P,af as R,dt as w,cM as E,P as u,R as L,J as p}from"./strapi-Ce0-1BU9.js";const v=()=>e.jsxs(a.Root,{children:[e.jsx(a.Header,{title:"AI Generation",primaryAction:e.jsx(y,{children:"TODO: Generate"})}),e.jsx(a.Content,{children:"TODO: AI ListView"})]}),D=A.enhanceEndpoints({addTagTypes:["Asset","Folder"]}).injectEndpoints({endpoints:s=>({uploadFiles:s.mutation({query:t=>({url:"/upload",method:"POST",data:t}),invalidatesTags:["Asset"]})})}),{useUploadFilesMutation:N}=D,o=s=>`${M}.${s}`,C=()=>{const{formatMessage:s}=f(),{toggleNotification:t}=T(),{_unstableFormatAPIError:g}=I(),l=b.useRef(null),[m]=N(),x=()=>{l.current?.click()},h=async d=>{const r=d.target.files;if(r&&r.length>0){const i=new FormData,c=Array.from(r);c.forEach(n=>{i.append("files",n),i.append("fileInfo",JSON.stringify({name:n.name,caption:null,alternativeText:null,folder:null}))});try{await m(i).unwrap(),t({type:"success",message:s({id:o("assets.uploaded"),defaultMessage:"{number, plural, one {# asset} other {# assets}} uploaded successfully"},{number:c.length})})}catch(n){const j=g(n);t({type:"danger",message:j})}}d.target.value=""};return e.jsxs(a.Root,{children:[e.jsx(O,{children:e.jsx("input",{type:"file",ref:l,onChange:h,multiple:!0})}),e.jsx(a.Header,{title:"TODO: Folder location",primaryAction:e.jsx(F,{popoverPlacement:"bottom-end",variant:"default",endIcon:e.jsx(w,{}),label:s({id:o("new"),defaultMessage:"New"}),children:e.jsx(P,{onSelect:x,startIcon:e.jsx(R,{}),children:s({id:o("import-files"),defaultMessage:"Import files"})})})}),e.jsx(a.Content,{children:"TODO: List/Grid views"})]})},H=()=>{const{formatMessage:s}=f(),t=s({id:E("plugin.name"),defaultMessage:"Media Library"});return e.jsxs(u.Main,{children:[e.jsx(u.Title,{children:t}),e.jsxs(L,{children:[e.jsx(p,{index:!0,element:e.jsx(C,{})}),e.jsx(p,{path:"ai-generation",element:e.jsx(v,{})})]})]})};export{H as UnstableMediaLibrary};
